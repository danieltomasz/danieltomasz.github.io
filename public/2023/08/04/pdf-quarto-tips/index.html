<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Ronalds Vilcins - https://lines-hugo-theme.netlify.app/"><title>PDF tweaks and tips with Quarto | Daniel Borek personal blog</title><meta name=description content="Some tips and tricks for writing thesis with Quarto"><meta name=twitter:card content="summary"><meta name=twitter:title content="PDF tweaks and tips with Quarto"><meta name=twitter:description content="Some tips and tricks for writing thesis with Quarto"><meta property="og:title" content="PDF tweaks and tips with Quarto"><meta property="og:description" content="Some tips and tricks for writing thesis with Quarto"><meta property="og:type" content="article"><meta property="og:url" content="https://lines-hugo-theme.netlify.app/2023/08/04/pdf-quarto-tips/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-08-04T00:00:00+00:00"><meta property="article:modified_time" content="2023-08-04T00:00:00+00:00"><meta itemprop=name content="PDF tweaks and tips with Quarto"><meta itemprop=description content="Some tips and tricks for writing thesis with Quarto"><meta itemprop=datePublished content="2023-08-04T00:00:00+00:00"><meta itemprop=dateModified content="2023-08-04T00:00:00+00:00"><meta itemprop=wordCount content="651"><meta itemprop=keywords content="Quatro,Latex,"><link rel=canonical href=https://lines-hugo-theme.netlify.app/2023/08/04/pdf-quarto-tips/><link rel=dns-prefetch href=https://www.google-analytics.com><link href=https://www.google-analytics.com rel=preconnect crossorigin><link rel=alternate type=application/atom+xml title="Daniel Borek personal blog" href=https://lines-hugo-theme.netlify.app/atom.xml><link rel=alternate type=application/json title="Daniel Borek personal blog" href=https://lines-hugo-theme.netlify.app/feed.json><link rel="shortcut icon" type=image/png href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII="><style>*,:after,:before{box-sizing:border-box;padding:0}body{font:1rem/1.5 '-apple-system',BlinkMacSystemFont,avenir next,avenir,helvetica,helvetica neue,ubuntu,roboto,noto,segoe ui,arial,sans-serif;text-rendering:optimizeSpeed}.posts hr{margin-top:0;margin-bottom:0;margin-right:.5rem;margin-left:.5rem;height:1px;border:none;border-bottom:1px #353535;flex:1 0 1rem}main{max-width:70ch;padding:2ch;margin:auto}a,body{color:#353535}::selection,a:focus,a:hover{background-color:#353535;color:#fff}.meta{margin:0 0 2.5rem}.tags::before{content:"\2022";margin-left:1rem}code,pre{color:#353535;font-family:San Francisco Mono,Monaco,consolas,lucida console,dejavu sans mono,bitstream vera sans mono,monospace;font-size:normal;border:1px solid #353535;font-size:small}code{padding:.1rem;border:none}pre{padding:.5rem;overflow-x:auto}pre code{border:none}img{max-width:100%;border:1px solid #353535}hr{background:#353535;height:1px;border:0}ul{list-style-type:square}ul,ol{padding-left:1.2rem}header li,footer li{display:inline;text-transform:uppercase}header a,footer a{text-decoration:none}header ul,footer ul{justify-content:space-between;display:flex}[aria-current=page]{text-decoration:line-through}header,section,footer{padding:1rem 0}blockquote{border-left:5px solid #353535;padding-left:1rem}.posts ul,header ul,footer ul{list-style:none}.posts,header ul,footer ul{padding:0}.posts li{align-items:center;display:flex;justify-content:space-between;margin-bottom:.7rem}.posts li a,.posts li div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.posts li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}.hash{opacity:.25;text-decoration:none}table{border-collapse:collapse;text-align:left;width:100%}table tr{background:#fff;border-bottom:1px solid}table th,table td{padding:10px 20px}</style><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"PDF tweaks and tips with Quarto","headline":"PDF tweaks and tips with Quarto","alternativeHeadline":"","description":"Some tips and tricks for writing thesis with Quarto","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/lines-hugo-theme.netlify.app\/2023\/08\/04\/pdf-quarto-tips\/"},"author":{"@type":"Person","name":""},"creator":{"@type":"Person","name":""},"accountablePerson":{"@type":"Person","name":""},"copyrightHolder":"Daniel Borek personal blog","copyrightYear":"2023","dateCreated":"2023-08-04T00:00:00.00Z","datePublished":"2023-08-04T00:00:00.00Z","dateModified":"2023-08-04T00:00:00.00Z","publisher":{"@type":"Organization","name":"Daniel Borek personal blog","url":"https://lines-hugo-theme.netlify.app/","logo":{"@type":"ImageObject","url":"https:\/\/lines-hugo-theme.netlify.app\/","width":"32","height":"32"}},"image":"https://lines-hugo-theme.netlify.app/","url":"https:\/\/lines-hugo-theme.netlify.app\/2023\/08\/04\/pdf-quarto-tips\/","wordCount":"651","genre":["Quatro","Latex"],"keywords":["Quatro","Latex"]}</script></head><body><main><header><nav><ul><li><a href=/ aria-current=page>Index</a></li><li><a href=/about/>About</a></li></ul></nav></header><hr><section><h2 itemprop="name headline">PDF tweaks and tips with Quarto</h2><p class=meta><time itemprop=datePublished datetime=2023-08-04>August 04, 2023</time> &bull;
<a href=/tags/quatro>Quatro</a>, <a href=/tags/latex>Latex</a></p><span itemprop=articleBody><h2 id=nicer-fonts-and-better--handling-of-figures>Nicer fonts and better handling of figures <a href=#nicer-fonts-and-better--handling-of-figures class=hash>#</a></h2><p>I am sharing with you a fragment of my <code>_quarto.yml</code> file, with some tweaks I am using to make my pdf output nicer.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#bbb> </span><span style=color:navy>format</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:navy>pdf</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:navy>link-citations</span>:<span style=color:#bbb> </span><span style=color:#000;font-weight:700>true</span><span style=color:#bbb>  </span><span style=color:#998;font-style:italic># &lt;1&gt;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:navy>number-sections</span>:<span style=color:#bbb> </span><span style=color:#000;font-weight:700>false</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:navy>reference-section-title</span>:<span style=color:#bbb> </span><span style=color:#d14>&#34;References&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:navy>pdf-engine</span>:<span style=color:#bbb> </span>xelatex<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:navy>include-in-header</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:navy>text</span>:<span style=color:#bbb> </span>|<span style=color:#d14>
</span></span></span><span style=display:flex><span><span style=color:#d14>        \usepackage{epigraph} 
</span></span></span><span style=display:flex><span><span style=color:#d14>        %%
</span></span></span><span style=display:flex><span><span style=color:#d14>        %% Code related to fonts and how the output looks
</span></span></span><span style=display:flex><span><span style=color:#d14>        %%
</span></span></span><span style=display:flex><span><span style=color:#d14>        \usepackage{mathpazo}   % &lt;2&gt;
</span></span></span><span style=display:flex><span><span style=color:#d14>        \usepackage[T1]{fontenc}
</span></span></span><span style=display:flex><span><span style=color:#d14>        \usepackage[sups,osf]{fbb} % osf (or tosf) for text, not math # &lt;2&gt;
</span></span></span><span style=display:flex><span><span style=color:#d14>        \usepackage[scaled=.95]{cabin} % sans serif # &lt;2&gt;
</span></span></span><span style=display:flex><span><span style=color:#d14>        \usepackage[varqu,varl]{inconsolata} % sans serif typewriter # &lt;2&gt;
</span></span></span><span style=display:flex><span><span style=color:#d14>        %%
</span></span></span><span style=display:flex><span><span style=color:#d14>        %% Code related to figures in document
</span></span></span><span style=display:flex><span><span style=color:#d14>        %%
</span></span></span><span style=display:flex><span><span style=color:#d14>        \usepackage{float}  % &lt;3&gt;
</span></span></span><span style=display:flex><span><span style=color:#d14>        \graphicspath{{figures}{chapters/figures}{../figures}{chapters}} # &lt;4&gt;
</span></span></span><span style=display:flex><span><span style=color:#d14>        \let\origfigure\figure
</span></span></span><span style=display:flex><span><span style=color:#d14>        \let\endorigfigure\endfigure
</span></span></span><span style=display:flex><span><span style=color:#d14>        \renewenvironment{figure}[1][2] {
</span></span></span><span style=display:flex><span><span style=color:#d14>            \expandafter\origfigure\expandafter[H]
</span></span></span><span style=display:flex><span><span style=color:#d14>        } {
</span></span></span><span style=display:flex><span><span style=color:#d14>            \endorigfigure
</span></span></span><span style=display:flex><span><span style=color:#d14>        }</span><span style=color:#bbb>        
</span></span></span></code></pre></div><p>I put number as comments, so you can better understand specific lines.</p><ol><li>Some options for PDF output (more or less self-explanatory)></li><li>The font use by default template are ugly format, this look similar but are nicer.</li><li>Forcing figures to be placed where they are in the text</li><li>Allowing to use figures from different folders, and allowing to use relative paths to figures.</li></ol><p>Those are setting I am using to render a working preview of a chapter.</p><h2 id=roman-numbering-for-front-matter-and-arabic-for-main-matter>Roman numbering for front matter and arabic for main matter <a href=#roman-numbering-for-front-matter-and-arabic-for-main-matter class=hash>#</a></h2><p>I am inserting roman numbering for front matter and arabic for main matter.</p><pre tabindex=0><code>```yaml
 format:
  pdf:
    include-before-body:
        text: |
           \pagestyle{plain}
           \pagenumbering{roman}
</code></pre><p>In main tex I switch back to arabic numbering:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#000;font-weight:700>\pagenumbering</span><span style=color:#0086b3>{</span>arabic<span style=color:#0086b3>}</span>
</span></span></code></pre></div><h2 id=problem-with-_indexmd_-and-inserted-blank-page>Problem with <em>index.md</em> and inserted blank page <a href=#problem-with-_indexmd_-and-inserted-blank-page class=hash>#</a></h2><p>As you write complex project, you want might want to have separate files for each chapter.
When you are using <code>quarto</code> to render your project, you could put them inside <code>index.md</code> in your root folder:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>{{include &#34;chapters/chapter1.qmd&#34;}}
</span></span><span style=display:flex><span>{{include &#34;chapters/chapter2.qmd&#34;}}
</span></span></code></pre></div><p>Using <code>include</code> filter will add the content of the files to the <code>index.md</code> file when compiling.
This is nice solution, but I have a problem when I want to use <code>quarto preview</code> to update and monitor resulting pdf when I change something in source files.
Unfortunately, <code>quarto preview</code> does not update output <code>.pdf</code> file when files added with <code>include</code> change, so I needed to choose another solution.</p><p>Alternative solution is to add chapters into you <code>_quarto.yml</code> file:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:navy>project</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:navy>output-dir</span>:<span style=color:#bbb> </span>_output<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:navy>execute-dir</span>:<span style=color:#bbb> </span>file<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:navy>book</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:navy>title</span>:<span style=color:#bbb> </span>Title of my  thesis or book<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:navy>author</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:navy>name</span>:<span style=color:#bbb> </span>Author Name<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:navy>chapters</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- index.qmd<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- chapters/chapter1.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- chapters/chapter1.md<span style=color:#bbb>
</span></span></span></code></pre></div><p>I want to all of my content of to live in the &lsquo;chapters&rsquo; folder.
Unfortunately currently in <code>quatro</code> users always need to include <code>index.md</code> (it makes sense when generating <code>html</code> as output, but not always when generating `pdf``).</p><p>I can leave the <code>index.md</code> file empty, but then I will have an empty page between my table of content and first chapter.
I can include the first chapter into index.md but then we were hitting the same problem on smaller scale again.</p><h3 id=my-solution>My solution <a href=#my-solution class=hash>#</a></h3><p>By default, latex is adding a page break after each chapter, and the <code>index.md</code> file is treated as a chapter, even if empty.
I am cheating a bit, not solving the problem, but hiding it by relaxing `\clearpage`` behaviour in latex.</p><p>I am leaving my <code>index.md</code> file almost empty, I&rsquo;m just adding this latex code <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#000;font-weight:700>\let\standardclearpage\clearpage</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>\let\clearpage\relax</span> 
</span></span></code></pre></div><p>Then within my first chapter when my content start, I am returning to standard behaviour of <code>\clearpage</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#000;font-weight:700>\let\clearpage\standardclearpage</span>
</span></span></code></pre></div><p>This way I am not adding any extra page between my table of content and first chapter, and I can use <code>quarto preview</code> to monitor my changes.
In future the <code>quatro</code> behaviour might change regarding inclusion of `index.md``, you can follow discussion here:</p><h2 id=useful-materials>Useful materials <a href=#useful-materials class=hash>#</a></h2><p>I just saw this post published on the blog of Cameron Patrick, it contains more useful information about writing thesis with <code>quarto</code>: <a href=https://cameronpatrick.com/post/2023/07/quarto-thesis-formatting/>https://cameronpatrick.com/post/2023/07/quarto-thesis-formatting/</a>.</p><p>I am personally using modified <code>quarto-thesis</code> template for my thesis, you can find it here: <a href=https://github.com/nmfs-opensci/quarto-thesis>https://github.com/nmfs-opensci/quarto-thesis</a>
If you don&rsquo;t use quarto, but you want to play with, you can modify it online on the Posit virtual <code>Rstudio</code> instance <a href=https://rstudio.cloud/content/4383755>https://rstudio.cloud/content/4383755</a> (free account required)</p><h2 id=references>References <a href=#references class=hash>#</a></h2><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://tex.stackexchange.com/a/176109>https://tex.stackexchange.com/a/176109</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></span></section><hr><footer><nav><ul><li>© 2023</li></ul></nav></footer></main></body></html>