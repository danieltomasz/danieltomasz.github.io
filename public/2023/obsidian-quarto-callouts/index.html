<!doctype html>
<html lang="en">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=60341&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content=" map[name:Daniel Borek] - http://localhost:60341/">
  <title>Using Wikilinks and Git/Obsidian Callouts in Quarto Markdown | Daniel Borek</title>
  <meta name="description" content="Instrumental reflexes">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Using Wikilinks and Git/Obsidian Callouts in Quarto Markdown">
  <meta name="twitter:description" content="About Callouts Disclaimer: Previous version of this post was originally published as a public gist
Callouts are a great way to highlight important details in your text by adding boxes with icons. Many flavours of markdown support them (but might use different syntax).
Quarto supports 5 callout types:
note warning important tip caution. Each type has a different color and icon. You can see examples in the Quarto documentation.
The Problem To use callouts in Quarto markdown (qmd) files, you need to use Pandoc’s div syntax:">

<meta property="og:url" content="http://localhost:60341/2023/obsidian-quarto-callouts/">
  <meta property="og:site_name" content="Daniel Borek">
  <meta property="og:title" content="Using Wikilinks and Git/Obsidian Callouts in Quarto Markdown">
  <meta property="og:description" content="About Callouts Disclaimer: Previous version of this post was originally published as a public gist
Callouts are a great way to highlight important details in your text by adding boxes with icons. Many flavours of markdown support them (but might use different syntax).
Quarto supports 5 callout types:
note warning important tip caution. Each type has a different color and icon. You can see examples in the Quarto documentation.
The Problem To use callouts in Quarto markdown (qmd) files, you need to use Pandoc’s div syntax:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-05-31T00:00:00+00:00">
    <meta property="article:modified_time" content="2023-05-31T00:00:00+00:00">
    <meta property="article:tag" content="Quarto">
    <meta property="article:tag" content="Obsidian">
    <meta property="article:tag" content="Lua">
    <meta property="article:tag" content="CSS">


  <meta itemprop="name" content="Using Wikilinks and Git/Obsidian Callouts in Quarto Markdown">
  <meta itemprop="description" content="About Callouts Disclaimer: Previous version of this post was originally published as a public gist
Callouts are a great way to highlight important details in your text by adding boxes with icons. Many flavours of markdown support them (but might use different syntax).
Quarto supports 5 callout types:
note warning important tip caution. Each type has a different color and icon. You can see examples in the Quarto documentation.
The Problem To use callouts in Quarto markdown (qmd) files, you need to use Pandoc’s div syntax:">
  <meta itemprop="datePublished" content="2023-05-31T00:00:00+00:00">
  <meta itemprop="dateModified" content="2023-05-31T00:00:00+00:00">
  <meta itemprop="wordCount" content="566">
  <meta itemprop="keywords" content="Quarto,Obsidian,Lua,CSS">
  <link rel="canonical" href="http://localhost:60341/2023/obsidian-quarto-callouts/">
  <link rel="dns-prefetch" href="https://www.google-analytics.com">
  <link href="https://www.google-analytics.com" rel="preconnect" crossorigin>
  <link rel="alternate" type="application/atom+xml" title="Daniel Borek" href="http://localhost:60341/atom.xml" />
  <link rel="alternate" type="application/json" title="Daniel Borek" href="http://localhost:60341/feed.json" />
  
  <style>*{line-height:1.6em;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica,helvetica neue,ubuntu,roboto,noto,segoe ui,arial,sans-serif;padding:2rem;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}main{max-width:70ch;padding:2ch;margin:auto}rig header,footer{margin-top:4rem;margin-bottom:4rem}h1:first-child{margin:0}img{display:block;max-width:100%}.meta{color:#777}.meta span a{color:#777;display:inline;text-decoration:none}.divider{display:inline-block;flex:1;border-top:1px solid #ddd;margin:0 10px}.lista .meta{align-items:center;display:flex;padding-bottom:.85em}a,a:visited{color:initial}.list{list-style-type:none;padding-left:0;margin:0}.list li{margin-bottom:.5rem}time{color:#777;font-variant-numeric:tabular-nums}blockquote{border-left:2px solid #777;padding:.5rem 1rem;margin:2rem 0}table{border-collapse:collapse;text-align:left;width:100%}table th,table td{padding:10px 20px}.posts ul,header ul,footer ul{list-style:none}.posts,header ul,footer ul{padding:0}.posts li{align-items:center;display:flex;justify-content:space-between;margin-bottom:.7rem}.posts li a,.posts li div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.posts li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}code,pre{color:#353535;font-family:San Francisco Mono,Monaco,consolas,lucida console,dejavu sans mono,bitstream vera sans mono,monospace;font-size:normal;border:1px solid #353535;font-size:small}code{padding:.1rem;border:none}pre{padding:.5rem;overflow-x:auto}pre code{border:none}header li,footer li{display:inline;text-transform:uppercase}header a,footer a{text-decoration:none}header ul,footer ul{justify-content:space-between;display:flex}[aria-current=page]{text-decoration:line-through}header,section,footer{padding:1rem 0}.lista li{list-style-type:none}.lista ul{display:flex;list-style-type:none}.nav{padding-top:-3em}ul{list-style-type:square}ul,ol{padding-left:1.2rem}header li,footer li{display:inline;text-transform:uppercase}header a,footer a{text-decoration:none}header ul,footer ul{justify-content:space-between;display:flex}[aria-current=page]{text-decoration:line-through}blockquote{border-left:5px solid #353535;padding-left:1rem}.posts ul,header ul,footer ul{list-style:none}.posts,header ul,footer ul{padding:0}.posts footer{padding-top:-10em}.posts li{align-items:center;display:flex;justify-content:space-between}.posts li a,.posts li div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.posts li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}</style>

  


<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "articleSection": "posts",
    "name": "Using Wikilinks and Git\/Obsidian Callouts in Quarto Markdown",
    "headline": "Using Wikilinks and Git\/Obsidian Callouts in Quarto Markdown",
    "alternativeHeadline": "",
    "description": "About Callouts Disclaimer: Previous version of this post was originally published as a public gist\nCallouts are a great way to highlight important details in your text by adding boxes with icons. Many flavours of markdown support them (but might use different syntax).\nQuarto supports 5 callout types:\nnote warning important tip caution. Each type has a different color and icon. You can see examples in the Quarto documentation.\nThe Problem To use callouts in Quarto markdown (qmd) files, you need to use Pandoc\u0026rsquo;s div syntax:",
    "inLanguage": "en-us",
    "isFamilyFriendly": "true",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http:\/\/localhost:60341\/2023\/obsidian-quarto-callouts\/"
    },
    "author" : {
        "@type": "Person",
        "name": "Daniel Borek"
    },
    "creator" : {
        "@type": "Person",
        "name": "Daniel Borek"
    },
    "accountablePerson" : {
        "@type": "Person",
        "name": "Daniel Borek"
    },
    "copyrightHolder" : "Daniel Borek",
    "copyrightYear" : "2023",
    "dateCreated": "2023-05-31T00:00:00.00Z",
    "datePublished": "2023-05-31T00:00:00.00Z",
    "dateModified": "2023-05-31T00:00:00.00Z",
    "publisher":{
        "@type":"Organization",
        "name": "Daniel Borek",
        "url": "http://localhost:60341/",
        "logo": {
            "@type": "ImageObject",
            "url": "http:\/\/localhost:60341\/",
            "width":"32",
            "height":"32"
        }
    },
    "image": "http://localhost:60341/",
    "url" : "http:\/\/localhost:60341\/2023\/obsidian-quarto-callouts\/",
    "wordCount" : "566",
    "genre" : [ "Quarto" , "Obsidian" , "Lua" , "CSS" ],
    "keywords" : [ "Quarto" , "Obsidian" , "Lua" , "CSS" ]
}
</script>


</head>
<body>
<main>
      <header>
    <nav>
      
   <ul>
    
    <li>
      
      
      
      
      <a href="/" >about</a>
    </li>
  
    <li>
      
      
      
      
      <a href="/posts/" >index</a>
    </li>
  
    <li>
      
      
      
      
      <a href="/atom.xml" >rss</a>
    </li>
  
   </ul>
    </nav>
  </header>
    <hr>



  <section>

      
      <h2 itemprop="name headline">Using Wikilinks and Git/Obsidian Callouts in Quarto Markdown</h2>
      
      

      <p class="meta">

        <time itemprop="datePublished" datetime="2023-05-31"> May 31, 2023</time> &bull;
        <a href='/tags/quarto'>Quarto</a>, <a href='/tags/obsidian'>Obsidian</a>, <a href='/tags/lua'>Lua</a>, <a href='/tags/css'>CSS</a>
        
             <span class="date-info italic"> <br> Edited on 31.05.2023</span>
         
        </p>


      

      <span itemprop="articleBody">
      <h1 id="about-callouts">About Callouts</h1>
<p><em>Disclaimer: Previous version of this post was originally published as a <a href="https://gist.github.com/danieltomasz/87b1321e23c045309d2571f525f856cf">public gist</a></em></p>
<p>Callouts are a great way to highlight important details in your text by adding boxes with icons. Many flavours of markdown support them (but might use different syntax).</p>
<p>Quarto supports 5 callout types:</p>
<ul>
<li><code>note</code></li>
<li><code>warning</code></li>
<li><code>important</code></li>
<li><code>tip</code></li>
<li><code>caution</code>.</li>
</ul>
<p>Each type has a different color and icon. You can see examples in the <a href="https://quarto.org/docs/authoring/callouts.html">Quarto documentation</a>.</p>
<h2 id="the-problem">The Problem</h2>
<p>To use callouts in Quarto markdown (<code>qmd</code>) files, you need to use Pandoc&rsquo;s div syntax:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-md" data-lang="md"><span style="display:flex;"><span>::: {.callout-note}
</span></span><span style="display:flex;"><span>This is a note callout
</span></span><span style="display:flex;"><span>:::
</span></span></code></pre></div><p>But Obsidian doesn&rsquo;t recognise this syntax. Instead, it uses:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&gt; </span><span style="color:#000;font-style:italic">[!note] My note
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic"></span><span style="color:#000;font-weight:bold">&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold"></span><span style="color:#000;font-style:italic">&gt; Note content
</span></span></span></code></pre></div><p>So there&rsquo;s no easy way to preview nice callouts in Obsidian before compiling to PDF.</p>
<p>Github also introduced callouts into its markdown flavour with the same syntax under name of <a href="https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax#alerts">Alerts</a></p>
<h1 id="lua-filters-to-the-rescue">Lua Filters to the Rescue</h1>
<p>Pandoc supports Lua filters that can modify the markdown before compilation.</p>
<p>I found a filter on the Obsidian forum and modified it to support Quarto callouts. You need to save the filter as <code>obsidian-callouts.lua</code> in your project&rsquo;s <code>filters</code> folder.</p>
<p>Then point to it in <code>_quarto.yml</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#000080">filters</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>- filters/obsidian-callouts.lua<span style="color:#bbb">
</span></span></span></code></pre></div><p>Content of the file <code>obsidian-callouts.lua</code> is in the following gist :</p>
<script src="https://gist.github.com/danieltomasz/31d298aca2969adaf60d8841b68005e2.js"></script>

<p>This makes Obsidian&rsquo;s callout syntax compile properly in Quarto.</p>
<h1 id="tweaking-obsidian-css">Tweaking Obsidian CSS</h1>
<p>By default Obsidian only styles <code>note</code> and <code>warning</code> callouts. To match Quarto, add this CSS:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/* See https://lucide.dev for icon codes */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">/* annotation */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#458;font-weight:bold">callout</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000080">data-callout</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;important&#34;</span><span style="color:#000;font-weight:bold">]</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#008080">--callout-color</span>: <span style="color:#099">251</span>, <span style="color:#099">70</span>, <span style="color:#099">76</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#008080">--callout-icon</span>: lucide-alert-circle
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#458;font-weight:bold">callout</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000080">data-callout</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;tip&#34;</span><span style="color:#000;font-weight:bold">]</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#008080">--callout-color</span>: <span style="color:#099">28</span>, <span style="color:#099">207</span>, <span style="color:#099">110</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#008080">--callout-icon</span>: lucide-lightbulb
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#458;font-weight:bold">callout</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000080">data-callout</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;caution&#34;</span><span style="color:#000;font-weight:bold">]</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#008080">--callout-color</span>: <span style="color:#099">255</span>,<span style="color:#099">153</span>,<span style="color:#099">102</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#008080">--callout-icon</span>: lucide-flame
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Now the callouts look (almost) the same in Obsidian and compiled PDFs!</p>
<p>Below is the Obsidian markdown that can be used to generate the basic 5 types of callouts that map nicely to Quarto types:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&gt; </span><span style="color:#000;font-style:italic">[!note] My note
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic"></span><span style="color:#000;font-weight:bold">&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold"></span><span style="color:#000;font-style:italic">&gt; Note content
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic"></span><span style="color:#000;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&gt; </span><span style="color:#000;font-style:italic">[!warning] My note
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic"></span><span style="color:#000;font-weight:bold">&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold"></span><span style="color:#000;font-style:italic">&gt; Note content
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic"></span><span style="color:#000;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&gt; </span><span style="color:#000;font-style:italic">[!important] My note
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic"></span><span style="color:#000;font-weight:bold">&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold"></span><span style="color:#000;font-style:italic">&gt; Note content
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic"></span><span style="color:#000;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&gt; </span><span style="color:#000;font-style:italic">[!tip] My note
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic"></span><span style="color:#000;font-weight:bold">&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold"></span><span style="color:#000;font-style:italic">&gt; Note content
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic"></span><span style="color:#000;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&gt; </span><span style="color:#000;font-style:italic">[!caution] My note
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic"></span><span style="color:#000;font-weight:bold">&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold"></span><span style="color:#000;font-style:italic">&gt; Note content
</span></span></span></code></pre></div><p>Obsidian support for callouts is much more <a href="https://help.obsidian.md/Editing+and+formatting/Callouts">extensive</a>.</p>
<h2 id="caveat">Caveat</h2>
<p>This approach makes callouts render nicely in Obsidian, but may break other Quarto-supporting editors. Test thoroughly before relying on it.</p>
<p>Remember that in order for callouts to work you need to leave an empty line starting with <code>&gt;</code> between title and content. If you want a line break in the rendered callout, you might need the same trick.</p>
<p>Since Quarto 1.3 callouts are represented as a custom AST node. (An earlier version of Lua filter that generated native Pandoc Divs)[https://forum.obsidian.md/t/rendering-callouts-similarly-in-pandoc/40020/6] will not work with latest Quarto.</p>
<h2 id="bonus-wikilinks">Bonus: Wikilinks</h2>
<p>Obsidian also supports wikilinks, which are a great way to link between notes. They are not supported in Quarto, but you can use a Lua filter to convert them to regular text in the rendered file. Unfortunately, this version doesn&rsquo;t fully support aliases in wikilinks. Also be careful, as this gist is not thouroughly tested, but works in all simple cases I tested it.</p>
<script src="https://gist.github.com/danieltomasz/bde887dcc775bd47acc0ddf993e3ec2b.js"></script>

<p>Add it to <code>_quarto.yml</code> or the yaml header of your document:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#000080">filters</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>- filters/wikilinks-filter.lua<span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="more-obsidian--quarto-tips">More Obsidian + Quarto Tips</h2>
<p>I use plugins to preview Quarto files in Obsidian:</p>
<ul>
<li><code>obsidian-shellcommands</code> to run <code>quarto render</code></li>
<li>Custom button with <code>commander</code> to rerun compilation</li>
<li><code>qmd-as-md-obsidian</code> for basic <code>qmd</code> support</li>
</ul>
<p>See the <a href="https://github.com/danieltomasz/qmd-as-md-obsidian">plugin README</a> for more workflow advice.</p>
<p>Let me know if you have any other questions!</p>

      </span>


    </section>
    

<footer>

    
    <script src="https://giscus.app/client.js"
    data-repo="danieltomasz/danieltomasz.github.io"
    data-repo-id=""
    data-category="Comments"
    data-category-id=""
    data-mapping="title"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="light"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async>
  </script>
    

    <nav>
    <ul>
        <li>
        © 2024
        </li>
    </ul>
    </nav>
    
</footer>

  </main>
</body>

